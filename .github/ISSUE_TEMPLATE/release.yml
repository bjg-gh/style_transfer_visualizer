
name: Release
description: Track release tasks for a version bump.
title: Release v{{ inputs.version }}
labels:
  - release
  - chore
body:
  - type: markdown
    attributes:
      value: |
        ### Version number
        Provide the version to release in the format `X.X.X` (e.g., `1.3.0`).
  - type: input
    id: version
    attributes:
      label: "<!-- Version number"
      placeholder: 1.3.0
    validations:
      required: true
      regex: '^\d+\.\d+\.\d+$'
      error: Version must be in X.X.X format (numbers only).
  - type: textarea
    id: release_body
    attributes:
      label: ""
      render: markdown
      value: |
        -->
        Release v{{ inputs.version }}

        This issue tracks the version bump, tagging, and release publishing steps for `v{{ inputs.version }}`.

        ## Tasks

        - [ ] Review all issues completed in milestone `v{{ inputs.version }}`
        - [ ] Create a release branch using this issue
        - [ ] Update `version` in `pyproject.toml` to `{{ inputs.version }}`
        - [ ] Add release notes to RELEASES.md
        - [ ] Commit with:
          ```sh
          git commit -m "chore: bump version to {{ inputs.version }}"
          ```
        - [ ] Push and open PR titled:
          ```
          chore: release v{{ inputs.version }}
          ```
        - [ ] Squash and merge PR
        - [ ] Tag the release:
          ```sh
          git tag v{{ inputs.version }}
          git push origin v{{ inputs.version }}
          ```
        - [ ] Create GitHub Release with:
          - Title: `v{{ inputs.version }}`
          - Description: Closed issues, changelog, or summary

        ## Notes
        - Link this issue to the release PR using `Closes #XXX` or mention it manually.
        - Delete the release branch after merging.
    validations:
      required: true
